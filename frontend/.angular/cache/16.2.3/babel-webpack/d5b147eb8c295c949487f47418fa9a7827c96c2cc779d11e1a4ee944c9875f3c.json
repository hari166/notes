{"ast":null,"code":"var _class;\nimport { signal } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ApiService {\n  constructor(http) {\n    this.http = http;\n    this.workspaces = signal({});\n  }\n  getWorkspace() {\n    this.http.get('http://localhost:3000/api/getWorkspaces').subscribe(data => {\n      this.workspaces.set(data);\n      console.log(this.workspaces());\n    });\n  }\n  addWorkspace() {\n    this.http.put('http://localhost:3000/api/addWorkspace', {\n      name: 'New Space'\n    }).subscribe(data => {\n      window.location.reload();\n    });\n  }\n  updateName(workspaceId) {\n    this.http.put('http://localhost:3000/api/updateWorkspaceName', {\n      workspaceId: workspaceId,\n      name: this.workspaces()[workspaceId].name\n    }).subscribe(data => {\n      window.location.reload();\n    });\n  }\n  deleteWorkspace(workspaceId) {\n    this.http.put('http://localhost:3000/api/deleteWorkspace', {\n      workspaceId: workspaceId\n    }).subscribe(data => {\n      window.location.reload();\n    });\n  }\n  addNote(id) {\n    this.http.put('http://localhost:3000/api/addNote', {\n      workspaceId: id\n    }).subscribe(data => {\n      this.getWorkspace();\n    });\n  }\n  updateTitle(workspaceId, noteId, title) {\n    this.http.put('http://localhost:3000/api/updateNoteTitle', {\n      workspaceId: workspaceId,\n      noteId: noteId,\n      title: title\n    }).subscribe(data => {\n      this.getWorkspace();\n    });\n  }\n  updateContent(workspaceId, noteId, content) {\n    this.http.put('http://localhost:3000/api/updateNoteContent', {\n      workspaceId: workspaceId,\n      noteId: noteId,\n      content: content\n    }).subscribe(data => {\n      this.getWorkspace();\n    });\n  }\n  deleteNote(workspaceId, noteId) {\n    this.http.put('http://localhost:3000/api/deleteNote', {\n      workspaceId: workspaceId,\n      noteId: noteId\n    }).subscribe(data => {\n      window.location.reload();\n    });\n  }\n}\n_class = ApiService;\n_class.ɵfac = function ApiService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["signal","ApiService","constructor","http","workspaces","getWorkspace","get","subscribe","data","set","console","log","addWorkspace","put","name","window","location","reload","updateName","workspaceId","deleteWorkspace","addNote","id","updateTitle","noteId","title","updateContent","content","deleteNote","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\aksha\\Desktop\\School\\Sem7\\Net Centric Programming\\Project\\Angular\\notes\\frontend\\src\\app\\services\\api.service.ts"],"sourcesContent":["import { Injectable, signal } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http'\nimport { Workspaces } from '../Data';\nimport { Types } from 'mongoose';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  workspaces = signal<Workspaces>({});\n\n  constructor(private http: HttpClient) { }\n\n  getWorkspace(){\n    this.http.get<any>('http://localhost:3000/api/getWorkspaces').subscribe(data=>{\n      this.workspaces.set(data)\n      console.log(this.workspaces())\n    })\n  }\n\n  addWorkspace(){\n    this.http.put<any>('http://localhost:3000/api/addWorkspace',{\n      name: 'New Space',\n    }).subscribe(data=>{\n      window.location.reload();\n    })\n  }\n\n  updateName(workspaceId: string){\n    this.http.put<any>('http://localhost:3000/api/updateWorkspaceName',{\n      workspaceId: workspaceId,\n      name: this.workspaces()[workspaceId].name,\n    }).subscribe(data=>{\n      window.location.reload();\n    })\n  }\n\n  deleteWorkspace(workspaceId: string){\n    this.http.put<any>('http://localhost:3000/api/deleteWorkspace',{\n      workspaceId: workspaceId,\n    }).subscribe(data=>{\n      window.location.reload();\n    })\n  }\n\n  addNote(id: string){\n    this.http.put<any>('http://localhost:3000/api/addNote',{\n      workspaceId: id,\n    }).subscribe(data=>{\n      this.getWorkspace()\n    })\n  }\n\n  updateTitle(workspaceId: string, noteId: string, title: string){\n    this.http.put<any>('http://localhost:3000/api/updateNoteTitle',{\n      workspaceId: workspaceId,\n      noteId: noteId,\n      title: title,\n    }).subscribe(data=>{\n      this.getWorkspace()\n    })\n  }\n\n  updateContent(workspaceId: string, noteId: Types.ObjectId, content: string){\n    this.http.put<any>('http://localhost:3000/api/updateNoteContent',{\n      workspaceId: workspaceId,\n      noteId: noteId,\n      content: content,\n    }).subscribe(data=>{\n      this.getWorkspace()\n    })\n  }\n\n  deleteNote(workspaceId: string, noteId: Types.ObjectId){\n    this.http.put<any>('http://localhost:3000/api/deleteNote',{\n      workspaceId: workspaceId,\n      noteId: noteId,\n    }).subscribe(data=>{\n      window.location.reload();\n    })\n  }\n}\n"],"mappings":";AAAA,SAAqBA,MAAM,QAAQ,eAAe;;;AAQlD,OAAM,MAAOC,UAAU;EAGrBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFxB,KAAAC,UAAU,GAAGJ,MAAM,CAAa,EAAE,CAAC;EAEK;EAExCK,YAAYA,CAAA;IACV,IAAI,CAACF,IAAI,CAACG,GAAG,CAAM,yCAAyC,CAAC,CAACC,SAAS,CAACC,IAAI,IAAE;MAC5E,IAAI,CAACJ,UAAU,CAACK,GAAG,CAACD,IAAI,CAAC;MACzBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,UAAU,EAAE,CAAC;IAChC,CAAC,CAAC;EACJ;EAEAQ,YAAYA,CAAA;IACV,IAAI,CAACT,IAAI,CAACU,GAAG,CAAM,wCAAwC,EAAC;MAC1DC,IAAI,EAAE;KACP,CAAC,CAACP,SAAS,CAACC,IAAI,IAAE;MACjBO,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAACC,WAAmB;IAC5B,IAAI,CAAChB,IAAI,CAACU,GAAG,CAAM,+CAA+C,EAAC;MACjEM,WAAW,EAAEA,WAAW;MACxBL,IAAI,EAAE,IAAI,CAACV,UAAU,EAAE,CAACe,WAAW,CAAC,CAACL;KACtC,CAAC,CAACP,SAAS,CAACC,IAAI,IAAE;MACjBO,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAG,eAAeA,CAACD,WAAmB;IACjC,IAAI,CAAChB,IAAI,CAACU,GAAG,CAAM,2CAA2C,EAAC;MAC7DM,WAAW,EAAEA;KACd,CAAC,CAACZ,SAAS,CAACC,IAAI,IAAE;MACjBO,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAI,OAAOA,CAACC,EAAU;IAChB,IAAI,CAACnB,IAAI,CAACU,GAAG,CAAM,mCAAmC,EAAC;MACrDM,WAAW,EAAEG;KACd,CAAC,CAACf,SAAS,CAACC,IAAI,IAAE;MACjB,IAAI,CAACH,YAAY,EAAE;IACrB,CAAC,CAAC;EACJ;EAEAkB,WAAWA,CAACJ,WAAmB,EAAEK,MAAc,EAAEC,KAAa;IAC5D,IAAI,CAACtB,IAAI,CAACU,GAAG,CAAM,2CAA2C,EAAC;MAC7DM,WAAW,EAAEA,WAAW;MACxBK,MAAM,EAAEA,MAAM;MACdC,KAAK,EAAEA;KACR,CAAC,CAAClB,SAAS,CAACC,IAAI,IAAE;MACjB,IAAI,CAACH,YAAY,EAAE;IACrB,CAAC,CAAC;EACJ;EAEAqB,aAAaA,CAACP,WAAmB,EAAEK,MAAsB,EAAEG,OAAe;IACxE,IAAI,CAACxB,IAAI,CAACU,GAAG,CAAM,6CAA6C,EAAC;MAC/DM,WAAW,EAAEA,WAAW;MACxBK,MAAM,EAAEA,MAAM;MACdG,OAAO,EAAEA;KACV,CAAC,CAACpB,SAAS,CAACC,IAAI,IAAE;MACjB,IAAI,CAACH,YAAY,EAAE;IACrB,CAAC,CAAC;EACJ;EAEAuB,UAAUA,CAACT,WAAmB,EAAEK,MAAsB;IACpD,IAAI,CAACrB,IAAI,CAACU,GAAG,CAAM,sCAAsC,EAAC;MACxDM,WAAW,EAAEA,WAAW;MACxBK,MAAM,EAAEA;KACT,CAAC,CAACjB,SAAS,CAACC,IAAI,IAAE;MACjBO,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;;SAxEWhB,UAAU;;mBAAVA,MAAU,EAAA4B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;;SAAV/B,MAAU;EAAAgC,OAAA,EAAVhC,MAAU,CAAAiC,IAAA;EAAAC,UAAA,EAFT;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}