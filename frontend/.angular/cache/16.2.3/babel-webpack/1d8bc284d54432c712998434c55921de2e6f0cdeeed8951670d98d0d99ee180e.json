{"ast":null,"code":"var _class;\nimport { signal, effect } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nconst _c0 = [\"scrollContainer\"];\nexport class BodyComponent {\n  constructor(route, http) {\n    this.route = route;\n    this.http = http;\n    this.scrollContainer = {};\n    this.id = '6519700162fd5940bfb85aae';\n    this.darkmode = signal(JSON.parse(window.localStorage.getItem('darkmode') ?? 'false'));\n    this.workspaces = signal({});\n    effect(() => {\n      window.localStorage.setItem('darkmode', JSON.stringify(this.darkmode()));\n    });\n  }\n  scrollH(event) {\n    this.scrollContainer.nativeElement.scrollLeft += event.deltaY / 2;\n    event.preventDefault();\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n    });\n    this.getWorkspace();\n  }\n  // getWorkspaces$ = this.http.get<any>('http://localhost:3000/api/getWorkspaces')\n  getWorkspace() {\n    this.http.get('http://localhost:3000/api/getWorkspaces').subscribe(data => {\n      this.workspaces.set(data);\n      console.log(this.workspaces()[0]);\n    });\n  }\n  addNote() {\n    this.http.put('http://localhost:3000/api/addNote', {\n      workspaceId: this.id\n    }).subscribe(data => {\n      // this.getWorkspaces$ = this.http.get<any>('http://localhost:3000/api/getWorkspaces')\n    });\n  }\n  get mode() {\n    return this.darkmode();\n  }\n}\n_class = BodyComponent;\n_class.ɵfac = function BodyComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-body\"]],\n  viewQuery: function BodyComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollContainer = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function BodyComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"dark\", ctx.mode);\n    }\n  },\n  decls: 1,\n  vars: 0,\n  consts: [[1, \"darkmode()\", \"h-screen\", \"bg-base-p\", \"text-font-base\", \"dark:bg-dark-p\", \"dark:text-font-dark\"]],\n  template: function BodyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib2R5LmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ib2R5L2JvZHkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0tBQWdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["signal","effect","BodyComponent","constructor","route","http","scrollContainer","id","darkmode","JSON","parse","window","localStorage","getItem","workspaces","setItem","stringify","scrollH","event","nativeElement","scrollLeft","deltaY","preventDefault","ngOnInit","params","subscribe","getWorkspace","get","data","set","console","log","addNote","put","workspaceId","mode","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","HttpClient","selectors","viewQuery","BodyComponent_Query","rf","ctx","ɵɵelement"],"sources":["C:\\Users\\aksha\\Desktop\\School\\Sem7\\Net Centric Programming\\Project\\Angular\\notes\\frontend\\src\\app\\components\\body\\body.component.ts","C:\\Users\\aksha\\Desktop\\School\\Sem7\\Net Centric Programming\\Project\\Angular\\notes\\frontend\\src\\app\\components\\body\\body.component.html"],"sourcesContent":["import { Component, Input, OnInit, ElementRef, ViewChild, signal, HostBinding, effect } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Note, Workspace, Workspaces } from 'src/app/Data';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Types } from 'mongoose';\nimport { Observable } from 'rxjs';\n\n\n@Component({\n  selector: 'app-body',\n  templateUrl: './body.component.html',\n  styleUrls: ['./body.component.css']\n})\nexport class BodyComponent implements OnInit {\n  @ViewChild('scrollContainer',{static: false}) scrollContainer: ElementRef<HTMLDivElement> = {} as ElementRef<HTMLDivElement>;\n\n  id: string = '6519700162fd5940bfb85aae';\n  \n\n  constructor(private route: ActivatedRoute, private http: HttpClient) {\n    effect(()=>{\n      window.localStorage.setItem('darkmode',JSON.stringify(this.darkmode()))\n    })\n  }\n\n  scrollH(event: any) {\n    this.scrollContainer.nativeElement.scrollLeft+=event.deltaY/2;\n    event.preventDefault()\n  }\n\n  darkmode = signal<boolean>(\n    JSON.parse(window.localStorage.getItem('darkmode')??'false')\n  );\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n    });\n    this.getWorkspace()\n  }\n\n  workspaces = signal<Workspaces>({});\n  \n  // getWorkspaces$ = this.http.get<any>('http://localhost:3000/api/getWorkspaces')\n\n  \n  getWorkspace(){\n    this.http.get<any>('http://localhost:3000/api/getWorkspaces').subscribe(data=>{\n      this.workspaces.set(data)\n      console.log(this.workspaces()[0])\n    })\n  }\n\n  addNote(){\n    \n    this.http.put<any>('http://localhost:3000/api/addNote',{\n      workspaceId: this.id,\n    }).subscribe(data=>{\n      // this.getWorkspaces$ = this.http.get<any>('http://localhost:3000/api/getWorkspaces')\n    })\n    \n  }\n\n  @HostBinding('class.dark') get mode() {\n    return this.darkmode();\n  }\n\n}\n","\r\n<div class=\"darkmode() h-screen bg-base-p text-font-base dark:bg-dark-p dark:text-font-dark\">\r\n    <!-- <app-header [darkmode]=\"darkmode\"></app-header>\r\n    <div *ngIf=\"workspaces; else loading\" class=\" grid grid-cols-[minmax(0,1fr),minmax(0,4fr)]\">\r\n        <app-sidebar class=\"ml-4 my-8\" [workspaces]=\"workspaces\" [workspaceId]=\"id\"></app-sidebar>\r\n        <div (wheel)=\"scrollH($event)\" class=\"h-[calc(100vh-5rem)]\">\r\n            <div #scrollContainer class=\"p-10 grid auto-cols-[calc((36vh-5.5rem)*1.3)] grid-flow-col grid-rows-2 gap-y-7 gap-x-16 w-full overflow-x-auto no-scrollbar\">\r\n                <app-card *ngFor=\"let note of workspaces[id].notes\" [note]=\"note\" [workspaceId]=\"id\"></app-card>\r\n                <div (click)=\"addNote()\" class=\"cursor-pointer bg-base-s dark:bg-dark-s h-full aspect-square rounded-3xl font-bold flex justify-center items-center text-[10rem]\">\r\n                    <svg class=\"w-20 h-20 m-auto stroke-slate-500 opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ng-template #loading>\r\n        <div class=\"w-full h-[calc(100%-5rem)] flex items-center justify-center m-auto\"><app-spinner></app-spinner></div>\r\n    </ng-template> -->\r\n</div>\r\n\r\n\r\n"],"mappings":";AAAA,SAA0DA,MAAM,EAAeC,MAAM,QAAQ,eAAe;;;;;AAa5G,OAAM,MAAOC,aAAa;EAMxBC,YAAoBC,KAAqB,EAAUC,IAAgB;IAA/C,KAAAD,KAAK,GAALA,KAAK;IAA0B,KAAAC,IAAI,GAAJA,IAAI;IALT,KAAAC,eAAe,GAA+B,EAAgC;IAE5H,KAAAC,EAAE,GAAW,0BAA0B;IAcvC,KAAAC,QAAQ,GAAGR,MAAM,CACfS,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAE,OAAO,CAAC,CAC7D;IASD,KAAAC,UAAU,GAAGd,MAAM,CAAa,EAAE,CAAC;IArBjCC,MAAM,CAAC,MAAI;MACTU,MAAM,CAACC,YAAY,CAACG,OAAO,CAAC,UAAU,EAACN,IAAI,CAACO,SAAS,CAAC,IAAI,CAACR,QAAQ,EAAE,CAAC,CAAC;IACzE,CAAC,CAAC;EACJ;EAEAS,OAAOA,CAACC,KAAU;IAChB,IAAI,CAACZ,eAAe,CAACa,aAAa,CAACC,UAAU,IAAEF,KAAK,CAACG,MAAM,GAAC,CAAC;IAC7DH,KAAK,CAACI,cAAc,EAAE;EACxB;EAMAC,QAAQA,CAAA;IACN,IAAI,CAACnB,KAAK,CAACoB,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,IAAI,CAACjB,EAAE,GAAGiB,MAAM,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC;IACF,IAAI,CAACE,YAAY,EAAE;EACrB;EAIA;EAGAA,YAAYA,CAAA;IACV,IAAI,CAACrB,IAAI,CAACsB,GAAG,CAAM,yCAAyC,CAAC,CAACF,SAAS,CAACG,IAAI,IAAE;MAC5E,IAAI,CAACd,UAAU,CAACe,GAAG,CAACD,IAAI,CAAC;MACzBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ;EAEAkB,OAAOA,CAAA;IAEL,IAAI,CAAC3B,IAAI,CAAC4B,GAAG,CAAM,mCAAmC,EAAC;MACrDC,WAAW,EAAE,IAAI,CAAC3B;KACnB,CAAC,CAACkB,SAAS,CAACG,IAAI,IAAE;MACjB;IAAA,CACD,CAAC;EAEJ;EAEA,IAA+BO,IAAIA,CAAA;IACjC,OAAO,IAAI,CAAC3B,QAAQ,EAAE;EACxB;;SApDWN,aAAa;;mBAAbA,MAAa,EAAAkC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,UAAA;AAAA;;QAAbvC,MAAa;EAAAwC,SAAA;EAAAC,SAAA,WAAAC,oBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;MCZ1BT,EAAA,CAAAW,SAAA,aAkBM"},"metadata":{},"sourceType":"module","externalDependencies":[]}